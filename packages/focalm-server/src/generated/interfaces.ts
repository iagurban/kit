// This file was auto-generated by prisma-generator-typescript-interfaces

export enum TaskState {
  Pending = 'Pending',
  Active = 'Active',
  Done = 'Done',
}

export enum TaskHistoryOperation {
  Set = 'Set',
  Add = 'Add',
  Remove = 'Remove',
}

export enum TaskHistoryKey {
  title = 'title',
  state = 'state',
  archived = 'archived',
  impact = 'impact',
  ease = 'ease',
  authorId = 'authorId',
  responsibleId = 'responsibleId',
  participants = 'participants',
  relations = 'relations',
  orderKey = 'orderKey',
  parentId = 'parentId',
  projectId = 'projectId',
  description = 'description',
  startAfterDate = 'startAfterDate',
  startAfterOffset = 'startAfterOffset',
  plannedStartDate = 'plannedStartDate',
  plannedStartOffset = 'plannedStartOffset',
  dueToDate = 'dueToDate',
  dueToOffset = 'dueToOffset',
}

export enum CreatedAtFixReason {
  Low = 'Low',
  High = 'High',
  Both = 'Both',
}

export enum PermissionKind {
  read = 'read',
  update = 'update',
  create = 'create',
  delete = 'delete',
}

export enum PermissionInProject {
  tasks = 'tasks',
  participants = 'participants',
}

export type User = {
  id: string;
  createdAt: Date;
  email: string;
  name: string;
  abbrev: string | null;
  passwordHash: string;
  uploadedFiles?: UploadedFile[];
  refreshTokens?: RefreshToken[];
  assignedTasks?: Task[];
  authoredTasks?: Task[];
  authoredTaskChanges?: TaskHistoryGroup[];
  participatingTasks?: UserInTask[];
  ownProjectId: string;
  ownProject?: Project;
  inProjects?: UserInProject[];
};

export type RefreshToken = {
  id: string;
  userId: string;
  user?: User;
  createdAt: Date;
  expiresAt: Date;
  hash: string;
};

export type StoredFile = {
  id: string;
  hash: string;
  size: number;
  createdAt: Date;
  uploads?: UploadedFile[];
};

export type UploadedFile = {
  id: string;
  originalName: string;
  mimetype: string;
  uploadedAt: Date;
  uploaderId: string;
  uploader?: User;
  storedFileId: string;
  storedFile?: StoredFile;
};

export type TaskHistoryValue = {
  id: string;
  groupId: string;
  group?: TaskHistoryGroup;
  taskId: string;
  task?: Task;
  key: TaskHistoryKey;
  op: TaskHistoryOperation;
  value: JsonValue;
};

export type TaskHistoryGroup = {
  id: string;
  values?: TaskHistoryValue[];
  authorId: string;
  author?: User;
  localCreatedAt: Date;
  createdAt: Date;
  createdAtFixReason: CreatedAtFixReason | null;
};

export type Project = {
  id: string;
  ownOf?: User | null;
  tasksCounter: bigint;
  name: string;
  abbrev: string | null;
  relationTypes?: TaskToTaskRelationType[];
  tasks?: Task[];
  usersPermissions?: UserInProject[];
};

export type Task = {
  id: string;
  title: string;
  state: TaskState;
  archived: boolean;
  impact: number;
  ease: number;
  startAfterDate: Date | null;
  startAfterOffset: number | null;
  plannedStartDate: Date | null;
  plannedStartOffset: number | null;
  dueToDate: Date | null;
  dueToOffset: number | null;
  createdAt: Date;
  updatedAt: Date;
  authorId: string;
  author?: User;
  responsibleId: string | null;
  responsible?: User | null;
  parentId: string | null;
  parent?: Task | null;
  children?: Task[];
  description: JsonValue;
  orderKey: string;
  participants?: UserInTask[];
  historyValues?: TaskHistoryValue[];
  relationsSrc?: TaskToTaskRelation[];
  relationsDst?: TaskToTaskRelation[];
  projectId: string;
  project?: Project;
  nnInProject: bigint;
};

export type UserInTask = {
  id: string;
  userId: string;
  user?: User;
  taskId: string;
  task?: Task;
  tags?: UserInTaskTag[];
};

export type ParticipantRole = {
  id: string;
  name: string;
  color: string;
  usersInTasks?: UserInTaskTag[];
};

export type UserInTaskTag = {
  userInTaskId: string;
  userInTask?: UserInTask;
  roleId: string;
  role?: ParticipantRole;
};

export type TaskToTaskRelationType = {
  id: string;
  forward: string;
  inverse: string;
  relations?: TaskToTaskRelation[];
  projectId: string;
  project?: Project;
};

export type TaskToTaskRelation = {
  srcId: string;
  src?: Task;
  dstId: string;
  dst?: Task;
  typeId: string;
  type?: TaskToTaskRelationType;
};

export type UserInProject = {
  userId: string;
  user?: User;
  projectId: string;
  project?: Project;
  permission: PermissionInProject;
  kind: PermissionKind;
};

type JsonValue = string | number | boolean | { [key in string]?: JsonValue } | Array<JsonValue> | null;
