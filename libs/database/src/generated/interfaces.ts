// This file was auto-generated by prisma-generator-typescript-interfaces

export enum UploadStatus {
  ACTIVE = 'ACTIVE',
  FINALIZING = 'FINALIZING',
  FAILED = 'FAILED',
}

export type User = {
  id: string;
  createdAt: Date;
  email: string;
  name: string;
  abbrev: string | null;
  passwordHash: string;
  uploadedFiles?: StoredFile[];
  refreshTokens?: RefreshToken[];
  chatEvents?: ChatEvent[];
};

export type RefreshToken = {
  id: string;
  userId: string;
  user?: User;
  createdAt: Date;
  expiresAt: Date;
  hash: string;
};

export type StoredFile = {
  id: string;
  checksum: string;
  sizeBytes: bigint;
  originalFilename: string;
  mimeType: string;
  storageKey: string;
  cdnUrl: string;
  metadata: JsonValue | null;
  uploadedByUserId: string;
  uploadedByUser?: User;
  createdAt: Date;
  updatedAt: Date;
  uploadSession?: UploadSession | null;
};

export type UploadSession = {
  id: string;
  storageUploadId: string;
  fileId: string;
  file?: StoredFile;
  totalChunks: number;
  status: UploadStatus;
  failReason: string | null;
  totalFailureCount: number;
  chunks?: UploadChunk[];
  createdAt: Date;
};

export type UploadChunk = {
  id: string;
  sessionId: string;
  session?: UploadSession;
  partNumber: number;
  eTag: string | null;
  leasedAt: Date | null;
};

export type Chat = {
  id: string;
  title: string;
  bio: string | null;
  avatar: string | null;
  events?: ChatEvent[];
  eventsCounter?: ChatEventsCounter | null;
  messagesCounter?: MessagesCounter | null;
};

export type ChatEventsCounter = {
  chatId: string;
  chat?: Chat;
  lastNn: bigint;
};

export type MessagesCounter = {
  chatId: string;
  chat?: Chat;
  lastNn: bigint;
};

export type ChatEvent = {
  id: bigint;
  nn: bigint;
  chatId: string;
  chat?: Chat;
  authorId: string;
  author?: User;
  type: string;
  /**
   * @DtoName ChatEventPayload
   * @DtoType { "message": MessagePayload; "info": ChatInfoInfoPayload }
   */
  payload: JsonValue;
  createdAt: Date;
};

type JsonValue = string | number | boolean | { [key in string]?: JsonValue } | Array<JsonValue> | null;
