// This file was auto-generated by prisma-generator-typescript-interfaces

export enum UploadStatus {
  ACTIVE = 'ACTIVE',
  FINALIZING = 'FINALIZING',
  FAILED = 'FAILED',
}

export enum ChatRoleTag {
  ADMIN = 'ADMIN',
  MODERATOR = 'MODERATOR',
  MEMBER = 'MEMBER',
  VIEWER = 'VIEWER',
  BANNED = 'BANNED',
}

export type User = {
  id: string;
  createdAt: Date;
  email: string;
  name: string;
  abbrev: string | null;
  passwordHash: string;
  uploadedFiles?: StoredFile[];
  refreshTokens?: RefreshToken[];
  chatEvents?: ChatEvent[];
  chatsPermissions?: UserChatPermissions[];
  chatsMmbership?: ChatMember[];
  ownChats?: Chat[];
};

export type RefreshToken = {
  id: string;
  userId: string;
  user?: User;
  createdAt: Date;
  expiresAt: Date;
  hash: string;
};

export type StoredFile = {
  id: string;
  checksum: string;
  sizeBytes: bigint;
  originalFilename: string;
  mimeType: string;
  storageKey: string;
  cdnUrl: string;
  metadata: JsonValue | null;
  uploadedByUserId: string;
  uploadedByUser?: User;
  createdAt: Date;
  updatedAt: Date;
  uploadSession?: UploadSession | null;
};

export type UploadSession = {
  id: string;
  storageUploadId: string;
  fileId: string;
  file?: StoredFile;
  totalChunks: number;
  status: UploadStatus;
  failReason: string | null;
  totalFailureCount: number;
  chunks?: UploadChunk[];
  createdAt: Date;
};

export type UploadChunk = {
  id: string;
  sessionId: string;
  session?: UploadSession;
  partNumber: number;
  eTag: string | null;
  leasedAt: Date | null;
};

export type Chat = {
  id: string;
  title: string;
  bio: string | null;
  avatar: string | null;
  ownerId: string;
  owner?: User;
  events?: ChatEvent[];
  eventsCounter?: ChatEventsCounter | null;
  messagesCounter?: MessagesCounter | null;
  defaultRoleId: string | null;
  defaultRole?: ChatRole | null;
  userPermissions?: UserChatPermissions[];
  roles?: ChatRole[];
  members?: ChatMember[];
};

export type ChatEventsCounter = {
  chatId: string;
  chat?: Chat;
  lastNn: bigint;
};

export type MessagesCounter = {
  chatId: string;
  chat?: Chat;
  lastNn: bigint;
};

export type ChatEvent = {
  id: bigint;
  nn: bigint;
  chatId: string;
  chat?: Chat;
  authorId: string;
  author?: User;
  type: string;
  payload: JsonValue;
  createdAt: Date;
};

export type ChatRole = {
  id: string;
  chatId: string;
  chat?: Chat;
  name: string;
  tags: ChatRoleTag[];
  isDefaultForChats?: Chat[];
  permissions: JsonValue;
  userPermissions?: UserChatPermissions[];
};

export type UserChatPermissions = {
  userId: string;
  user?: User;
  chatId: string;
  chat?: Chat;
  roleId: string | null;
  role?: ChatRole | null;
  permissions: JsonValue | null;
};

export type ChatMember = {
  userId: string;
  user?: User;
  chatId: string;
  chat?: Chat;
  joinedAt: Date;
};

type JsonValue = string | number | boolean | { [key in string]?: JsonValue } | Array<JsonValue> | null;
